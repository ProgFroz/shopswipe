<div class="add-shopping-button" style="position: absolute; bottom: 40px; right: 40px">
  <div title="Add Element" (click)="addElementModalOpen = true">
    <clr-icon shape="plus" size="26"></clr-icon>
  </div>
</div>


<clr-modal *ngIf="shopping" [(clrModalOpen)]="addElementModalOpen">
  <h3 class="modal-title">Add Element</h3>
  <div class="modal-body">
    <form [formGroup]="elementFormGroup" clrForm>
      <clr-input-container>
        <label>Item Name</label>
        <input placeholder="Name" clrInput formControlName="name" name="name" required />
        <clr-control-error>Minimum Length of 1 Character!</clr-control-error>
      </clr-input-container>

      <clr-input-container>
        <label>Description</label>
        <input placeholder="Description" clrInput formControlName="description" name="name" />
      </clr-input-container>

      <clr-input-container>
        <label>Amount</label>
        <input placeholder="Amount" type="number" clrInput formControlName="amount" name="name" required />
        <clr-control-error>Minimum Amount of 1!</clr-control-error>
      </clr-input-container>


      <clr-checkbox-container>
        <clr-checkbox-wrapper>
          <input type="checkbox" clrCheckbox name="options1" value="option1" formControlName="repeatable" />
          <label>Repeatable</label>
        </clr-checkbox-wrapper>
        <clr-control-helper>This will prevent the element from being removed from the list when once checked.</clr-control-helper>
      </clr-checkbox-container>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline" (click)="addElementModalOpen = false">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="addElement(); addElementModalOpen = false;">Add</button>
  </div>
</clr-modal>

<!--<div class="spinner-holder-centered" *ngIf="groupLoading || shoppingLoading || !group.members">-->
<!--  <span class="spinner">-->
<!--    Loading...-->
<!--  </span>-->
<!--</div>-->

<div *ngIf="!groupLoading && !shoppingLoading && !!group.members"  class="clr-row">


  <div (panstart)="onPanStart($event, getId(element))" (panend)="onPanEnd($event, getId(element), element)"
       (pan)="onPan($event, getId(element), element)" *ngFor="let element of shopping.elements" class="clr-col-lg-6 clr-col-12 animated">
    <div [id]="getId(element)" class="card">
      <div class="card-block member-card">
        <div class="icon-and-name-holder">
          <img style="width: 40px; height: 40px;" [src]="findAccordingMember(element.uid)?.imageUrl">
          <h5>{{element.name}}</h5>
        </div>
        <div class="action-holder">

          <button (click)="deleteElement(element)" type="button" class="btn btn-icon btn-warning" aria-label="warning">
            <clr-icon shape="times" size="24"></clr-icon>
          </button>

          <button (click)="finishElement(element)" *ngIf="element.isActive"  type="button" class="btn btn-icon btn-success" aria-label="done">
            <clr-icon shape="check" size="24"></clr-icon>
          </button>

          <button (click)="activateElement(element)" *ngIf="!element.isActive" type="button" class="btn btn-icon btn-primary" aria-label="settings">
            <clr-icon shape="repeat" size="24"></clr-icon>
          </button>

        </div>
      </div>
    </div>


  </div>
</div>
